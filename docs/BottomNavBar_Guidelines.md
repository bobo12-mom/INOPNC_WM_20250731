# 하단 네비게이션 바 (Bottom NavBar) 가이드라인

## 개요
INOPNC 작업관리 시스템의 하단 네비게이션 바는 사용자가 주요 메뉴에 빠르게 접근할 수 있도록 화면 하단에 항상 표시되는 고정 메뉴입니다.

## 1. 기본 사양

### 1.1 위치 및 표시
- **위치**: 화면 하단 고정
- **표시**: 항상 visible 상태 유지
- **목적**: 주요 메뉴 빠른 접근
- **우선순위**: 사용 빈도가 높은 5개 메뉴 선정

### 1.2 메뉴 구성

| 순서 | 메뉴명 | 아이콘 | 동작 설명 |
|------|--------|--------|-----------|
| 1 | 홈(빠른메뉴) | Home | 홈 화면으로 이동, 빠른메뉴 섹션 표시 |
| 2 | 출력현황 | Calendar | 출력현황 메뉴로 직접 이동 |
| 3 | 작업일지 | FileText | 작업일지 목록 화면으로 이동 |
| 4 | 공도면 | FileImage | 공유문서함의 공도면 필터링 결과 표시 |
| 5 | 내문서함 | FolderOpen | 내문서함 메뉴로 직접 이동 |

## 2. 디자인 가이드라인

### 2.1 레이아웃
- **메뉴 배치**: 5개 메뉴 균등 배치
- **정렬**: 중앙 정렬, 좌우 여백 동일
- **높이**: 
  - iOS: 56px (Safe Area 제외)
  - Android: 48px
- **배경**: 
  - 기본: 흰색 (#FFFFFF)
  - 다크모드: 어두운 배경색
- **구분선**: 상단에 1px 그림자 또는 구분선

### 2.2 아이콘 및 레이블

#### 아이콘
- **크기**: 24x24px
- **스타일**: Outline 또는 Filled
- **색상**:
  - 비활성: #666666
  - 활성: Primary Color (#007AFF 또는 브랜드 컬러)

#### 레이블
- **폰트 크기**: 10px
- **폰트 무게**: Regular (400)
- **위치**: 아이콘 하단 4px 간격
- **줄 수**: 1줄 (말줄임 처리)
- **색상**: 아이콘과 동일

### 2.3 인터랙션

#### 터치 피드백
- **리플 효과**: Android Material Design
- **하이라이트**: iOS 스타일 배경색 변화
- **지속 시간**: 200ms

#### 활성 상태 표시
- **아이콘**: 활성 컬러로 변경
- **레이블**: 활성 컬러로 변경
- **배경**: 선택적으로 연한 배경색 추가
- **인디케이터**: 상단 또는 하단에 2px 바 (선택적)

#### 전환 애니메이션
- **페이드**: 화면 전환 시 페이드 인/아웃
- **스케일**: 터치 시 95% 스케일 다운
- **지속 시간**: 300ms

## 3. 특수 동작

### 3.1 공도면 메뉴
공도면 메뉴는 다른 메뉴와 달리 특수한 동작을 수행합니다.

#### 동작 순서
1. 사용자가 공도면 아이콘 터치
2. 시스템이 현재 사용자의 활성 현장 정보 확인
3. 공유문서함으로 이동
4. 자동으로 다음 필터 적용:
   - 현장: 현재 사용자의 활성 현장
   - 문서 타입: '공도면' badge가 있는 문서
5. 필터링된 결과 표시

#### 예외 처리
- **현장 미배정**: "배정된 현장이 없습니다" 안내
- **공도면 없음**: "해당 현장의 공도면이 없습니다" 안내
- **권한 없음**: "공도면 조회 권한이 없습니다" 안내

### 3.2 상태별 동작

#### 로그인 전
- NavBar 숨김 또는 비활성화
- 로그인 화면에서는 표시하지 않음

#### 오프라인 모드
- 모든 메뉴 활성 상태 유지
- 네트워크 필요 기능 접근 시 안내 메시지

#### 로딩 중
- 현재 메뉴 아이콘 유지
- 로딩 인디케이터는 컨텐츠 영역에 표시

## 4. 접근성

### 4.1 터치 영역
- **최소 크기**: 44x44px (Apple HIG 기준)
- **실제 터치 영역**: 아이콘보다 크게 설정
- **메뉴 간 간격**: 터치 영역 겹침 방지

### 4.2 스크린 리더
- **역할**: Navigation Landmark
- **레이블**: 각 메뉴 이름 명확히 읽기
- **상태**: 현재 활성 메뉴 알림
- **힌트**: 더블탭하여 이동 안내

### 4.3 키보드 네비게이션
- **Tab 키**: 메뉴 간 이동
- **Enter/Space**: 메뉴 선택
- **포커스 표시**: 명확한 포커스 인디케이터

## 5. 반응형 대응

### 5.1 세로 모드 (Portrait)
- **표준 레이아웃**: 5개 메뉴 균등 배치
- **최소 화면 너비**: 320px
- **메뉴 간 최소 간격**: 8px

### 5.2 가로 모드 (Landscape)
- **레이아웃 유지**: 5개 메뉴 균등 배치
- **여백 증가**: 좌우 여백 자동 조절
- **높이 유지**: 세로 모드와 동일

### 5.3 태블릿
- **메뉴 간격**: 최대 120px로 제한
- **중앙 정렬**: 전체 너비의 중앙에 배치
- **선택사항**: 
  - 아이콘 크기 증가 (28x28px)
  - 폰트 크기 증가 (12px)

### 5.4 폴더블 디바이스
- **메인 스크린**: 표준 NavBar 표시
- **커버 스크린**: 아이콘만 표시 옵션
- **전환**: 스크린 전환 시 상태 유지

## 6. 구현 시 고려사항

### 6.1 플랫폼별 대응

#### iOS
- **Safe Area**: 
  - iPhone X 이상: 하단 34px 추가 여백
  - Home Indicator와 충돌 방지
- **제스처**: 
  - 스와이프 제스처와 충돌 방지
  - 홈으로 가기 제스처 영역 고려

#### Android
- **시스템 네비게이션**: 
  - 3버튼 네비게이션과 구분
  - 제스처 네비게이션 모드 대응
- **뒤로 가기**: 
  - NavBar 선택 상태 스택 관리
  - 홈에서 뒤로 가기 시 앱 종료 확인

### 6.2 성능 최적화
- **렌더링**: 하드웨어 가속 사용
- **메모리**: 아이콘 캐싱
- **애니메이션**: 60fps 유지
- **터치 응답**: 즉각적인 피드백

### 6.3 상태 관리
- **현재 메뉴**: 전역 상태로 관리
- **히스토리**: 뒤로 가기 지원
- **딥링크**: 특정 메뉴 직접 접근
- **복원**: 앱 재시작 시 마지막 상태

### 6.4 스크롤 동작
- **기본**: 콘텐츠 스크롤 시에도 고정
- **옵션**: 
  - 하단 스크롤 시 숨김
  - 상단 스크롤 시 표시
- **키보드**: 
  - 입력 필드 포커스 시 숨김 (선택적)
  - 키보드 닫힘 시 즉시 표시

## 7. 테스트 체크리스트

### 7.1 기능 테스트
- [ ] 모든 메뉴 정상 동작
- [ ] 공도면 특수 동작 확인
- [ ] 활성 상태 올바른 표시
- [ ] 화면 전환 애니메이션

### 7.2 UI 테스트
- [ ] 다양한 화면 크기 대응
- [ ] 다크모드 지원
- [ ] 폰트 크기 설정 대응
- [ ] 색상 대비 접근성

### 7.3 사용성 테스트
- [ ] 터치 영역 충분함
- [ ] 피드백 즉각적
- [ ] 오류 상황 안내
- [ ] 로딩 상태 표시