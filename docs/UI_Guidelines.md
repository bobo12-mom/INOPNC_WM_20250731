# UI Guidelines

## 사이드바 메뉴 구성

### 사용자별 메뉴 구성표

| 순서 | A.작업자 | B.현장 관리자 | C.파트너사 | D.본사 관리자 |
|------|----------|---------------|------------|---------------|
| 1 | 홈 | 홈 | 홈 | 홈 |
| 2 | 출력현황 | 출력현황 | 출력현황 | 현장 관리 |
| 3 | 작업일지 | 작업일지 | 작업일지 | 사용자 관리 |
| 4 | 현장정보 | 현장정보 | 현장정보 | 공유 문서함 관리 |
| 5 | 내문서함 | 내문서함 | 내문서함 | 급여 관리 |
| 6 | 공유문서함 | 공유문서함 | 공유문서함 | NPC-1000 자재 관리 |
| 7 | 도면 마킹 도구 | 도면 마킹 도구 | 도면 마킹 도구 | 도면 마킹 관리 |
| 8 | 내정보 | 내정보 | 내정보 | 그 외 관리자 메뉴 |
| 9 | | | | ... |
| 10 | | | | 시스템 관리 |
| 11 | | | | 내정보 |

### 메뉴 구성 원칙

1. **일반 사용자 메뉴 (A, B, C)**
   - 작업자, 현장 관리자, 파트너사에게 동일한 메뉴 구조 제공
   - 핵심 업무 기능 중심으로 구성 (1-8번)
   - 현장정보 메뉴 추가로 현장 관련 정보 접근성 향상

2. **본사 관리자 전용 메뉴 (D)**
   - 본사 관리자에게만 특별한 메뉴 구조 제공
   - 관리 및 운영 기능 중심 (1-11번)
   - **주의**: 구체적인 기능은 추후 결정 예정
   - 확장 가능한 구조로 설계

3. **메뉴 아이콘 매핑**
   - 홈: Home
   - 출력현황: Calendar
   - 작업일지: FileText
   - 현장정보: MapPin
   - 내문서함: FolderOpen
   - 공유문서함: Share2
   - 도면 마킹 도구: Edit3
   - 내정보: User
   - 현장 관리: Building2
   - 사용자 관리: Users
   - 공유 문서함 관리: FolderCheck
   - 급여 관리: DollarSign
   - NPC-1000 자재 관리: Package
   - 도면 마킹 관리: Layers
   - 시스템 관리: Settings
   - 그 외 관리자 메뉴: MoreHorizontal

### 접근 권한

- **작업자 (worker)**: 일반 사용자 메뉴 1-8번
- **현장 관리자 (site_manager)**: 일반 사용자 메뉴 1-8번
- **파트너사 (customer_manager)**: 일반 사용자 메뉴 1-8번
- **본사 관리자 (admin)**: 관리자 전용 메뉴 1-11번

### 특별 고려사항

- **D.본사 관리자용 화면**: 아래 상세 기능 참조

## 본사 관리자(Admin) 기능 상세

### 1. 사용자 관리 시스템
- **계정 관리**
  - 신규 사용자 계정 생성
  - 사용자 정보 수정 (프로필, 연락처, 소속)
  - 계정 활성화/비활성화
  - 비밀번호 초기화
- **권한 관리**
  - 역할 기반 권한 할당 (작업자, 현장관리자, 파트너사)
  - 현장별 접근 권한 설정
  - 특수 권한 부여/회수
- **사용자 통계**
  - 활성 사용자 현황
  - 로그인 통계
  - 사용자별 활동 내역
- **대량 작업**
  - 엑셀 업로드로 대량 사용자 등록
  - 다중 선택 권한 변경
  - 대량 알림 발송

### 2. 통계 대시보드
- **실시간 KPI 모니터링**
  - 일일 작업일지 작성률
  - 출력현황 통계
  - 시스템 사용률
- **사용자 활동 분석**
  - 사용자별 접속 빈도
  - 기능별 사용 통계
  - 시간대별 활동 패턴
- **현장 진행률 추적**
  - 현장별 작업 진행률
  - 지연 현황 모니터링
  - 품질 지표 추적
- **시스템 성능 모니터링**
  - 서버 응답 시간
  - 에러 발생률
  - 리소스 사용량

### 3. 고급 승인 관리
- **워크플로 설정**
  - 다단계 승인 체계 구성
  - 조건부 승인 규칙
  - 자동 에스컬레이션
- **대량 승인 처리**
  - 대기 중인 승인 일괄 처리
  - 조건별 자동 승인
  - 반려 사유 템플릿
- **승인 성과 분석**
  - 평균 승인 소요 시간
  - 승인자별 처리 현황
  - 병목 구간 식별
- **위임 관리**
  - 임시 권한 위임
  - 부재 시 자동 위임
  - 위임 이력 추적

### 4. 현장 관리 시스템
- **현장 설정**
  - 신규 현장 등록
  - 현장 정보 관리
  - 공정 계획 설정
- **인력 배정**
  - 작업자 현장 배치
  - 관리자 지정
  - 파트너사 연결
- **모니터링**
  - 실시간 작업 현황
  - 안전 사고 모니터링
  - 자재 사용 현황
- **성과 분석**
  - 현장별 생산성
  - 품질 지표
  - 비용 분석

### 5. 알림 및 공지사항 관리
- **공지사항 작성**
  - 전체/그룹별 공지
  - 중요도 설정
  - 읽음 확인 추적
- **알림 규칙 엔진**
  - 자동 알림 조건 설정
  - 알림 채널 관리 (앱, SMS, 이메일)
  - 알림 스케줄링
- **긴급 커뮤니케이션**
  - 비상 알림 발송
  - 현장별 긴급 공지
  - 안전 경보 시스템
- **효과 분석**
  - 알림 도달률
  - 읽음률 통계
  - 반응 시간 측정

### 6. 시스템 설정 관리
- **마스터 데이터**
  - 코드 관리
  - 용어 사전
  - 표준 템플릿
- **워크플로 구성**
  - 업무 프로세스 정의
  - 자동화 규칙
  - 연동 설정
- **외부 연동**
  - ERP 시스템 연결
  - 회계 시스템 연동
  - API 관리
- **보안 정책**
  - 비밀번호 정책
  - 접근 제어
  - 감사 로그 설정

### 7. 보고서 생성 시스템
- **표준 보고서**
  - 일일/주간/월간 보고서
  - 현장별 종합 보고서
  - 경영진 대시보드
- **커스텀 보고서**
  - 보고서 빌더
  - 필터 및 그룹화
  - 차트 커스터마이징
- **분석 도구**
  - 트렌드 분석
  - 예측 모델링
  - 비교 분석
- **자동화**
  - 정기 보고서 스케줄
  - 자동 이메일 발송
  - 조건부 알림

### 8. NPC-1000 자재 관리
- **재고 모니터링**
  - 전체 현장 재고 현황
  - 실시간 사용량 추적
  - 재고 부족 경고
- **요청 관리**
  - 자재 요청 승인
  - 우선순위 조정
  - 배송 추적
- **최적화 분석**
  - 사용 패턴 분석
  - 낭비 요소 식별
  - 재고 최적화 제안
- **공급업체 관리**
  - 업체별 성과 평가
  - 계약 관리
  - 품질 추적

### 구현 시 고려사항

1. 메뉴 순서는 반드시 표의 순서를 따를 것
2. 사용자 역할에 따라 메뉴 표시/숨김 처리
3. 관리자 메뉴는 구분선으로 시각적 분리
4. 모바일/데스크톱 동일한 메뉴 구조 유지

## 홈 화면 구성

### 작업일지 작성 버튼
- **위치**: 홈 A1=B1=C1 (작업자, 현장 관리자, 파트너사)
- '작업일지 작성' 버튼을 기존 화면에서 넘게 할 보이도록 수정

### 빠른메뉴 섹션
- **메뉴 설정**: 가로 2개 열로 기존 화면 및 기능에서 '빠른 메뉴' 섹션에 등록/삭제할 수 있도록 함
- **레이아웃**: '빠른 메뉴' 섹션은 가로 2개 열로 기존으로 2X1, 2X2, 2X3 등의 열과 행으로 보일 수 있도록 함
- **Default 버튼**: 출력현황, 내문서함, 현장정보, 공도면

### 오늘의 현장 정보 (접기/펼치기 토글)
- **현장 주소**: 
  - 주소복사 아이콘, T-Map 연결 아이콘
  - 축소 주소, 주소복사 아이콘, T-Map 연결 아이콘
- **공정 정보**: 
  - 부재명, 작업공정, 작업구간 정보
  - 도면보기 아이콘
- **담당자 정보**:
  - 건축 담당자 전화번호, 전화번호 복사 아이콘, 전화걸기 아이콘
  - 안전 담당자 전화번호, 전화번호 복사 아이콘, 전화걸기 아이콘

### 공지사항 (접기/펼치기 토글)
- 본사에서 공지하는 내용
- 기타 등등

## 출력현황 메뉴 상세 기능

### A2, B2 출력현황 (작업자, 현장 관리자)

#### 출력정보 Tab
- **현장 선택**: 드롭다운 메뉴로 현장 선택 (중복 선택 불가)
- **캘린더 기능**:
  - 연도, 월 선택 가능
  - 현재 월 캘린더가 기본(default)으로 표시
  - 본인이 작업일지 등록한 현장 정보 표시 (현장 약어로 표기)
  - 작업일지를 통해 등록된 정보 표기
  - 본사에 의해 assign 예정된 정보 표기
- **캘린더 하단 현장 정보 요약**:
  - 현장명 (현장약어)
  - 현장 정보: 위치, 기간 등
  - 기타 관련 정보

#### 급여정보 Tab
- 현장별 급여 조회
- 월별 급여 조회
- 급여 명세서 조회
- 급여 명세서 다운로드

#### 접근 권한
- A2(작업자), B2(현장 관리자)는 본인의 출력 정보와 급여 정보만 조회 가능

### C2 출력현황 (파트너사)

#### 출력정보 Tab
- 현장별 선택 기능
- 총 투입일 수 조회
- 총 출력(작업자 공수) 조회

#### 급여정보 Tab
- 현장별 급여 현황
- 작업자별 급여 현황

#### 접근 권한
- C2(파트너사)는 자사 소속 작업자들의 총 투입일 수와 총 출력(작업자 공수) 조회 가능

### 용어 정의
- **출력**: 출근 이력을 의미
- **공수**: 작업자가 투입된 시간 또는 일수

## 작업일지 메뉴 상세 기능

### A3, B3 작업일지 (작업자, 현장 관리자)

#### 주요 구성 요소
- **작업일지 작성 버튼**: 새로운 작업일지 작성 시작

#### 작업일지 목록표
- **작업일지 제목 형식**: 소속약어 + 현장약어 + 부재명
  - 예시: "INO_강남A_슬라브"
- **작업일지 날짜**: 작성일자 표시
- **상태 정보**:
  - 임시저장: 작성 중인 상태
  - 작성완료: 제출 완료된 상태
- **정렬 기능**:
  - 제목순 정렬
  - 날짜순 정렬
  - 상태순 정렬

#### 목록 표시 형식
| 제목 | 날짜 | 상태 |
|------|------|------|
| 소속약어+현장약어+부재명 | YYYY-MM-DD | 임시저장/작성완료 |

#### 접근 권한
- A3(작업자), B3(현장 관리자)는 본인이 작성한 작업일지만 조회 및 수정 가능

## 현장정보 메뉴 상세 기능

### A4, B4, C4 현장정보 (작업자, 현장 관리자, 파트너사)

#### 오늘의 현장
- **현장 주소**
  - 주소 표시
  - 주소복사 아이콘
  - T-Map 연결 아이콘
- **숙소 주소**
  - 주소 표시
  - 주소복사 아이콘
  - T-Map 연결 아이콘
- **공정 정보**
  - 부재명
  - 작업공정
  - 작업구간 정보
  - 도면보기 아이콘
- **담당자 연락처**
  - 건축 담당자 전화번호
  - 전화번호 복사 아이콘
  - 전화걸기 아이콘
  - 안전 담당자 전화번호
  - 전화번호 복사 아이콘
  - 전화걸기 아이콘

#### 현장 조회
- **검색 옵션**
  - 현장명 검색
  - 지역별 검색
  - 작업자명 검색
  - 기간별 검색

#### 접근 권한
- A4(작업자), B4(현장 관리자), C4(파트너사) 모두 현장 정보 조회 가능

## 내문서함 메뉴 상세 기능

### A5, B5 내문서함 (작업자, 현장 관리자)

#### 문서 목록
- **검색 기능**: 문서명, 작성자, 날짜별 검색
- **필터링**: 카테고리별, 기간별 필터
- **정렬**: 최신순, 이름순, 크기순

#### 문서 카테고리
- 개인 급여 명세서
- 작업일지 (백업)
- 계약서/협약서
- 자격증/수료증
- 안전교육 이수증
- 기타 개인 문서

#### 문서 관리 기능
- **업로드**: 
  - 파일 선택 또는 드래그&드롭
  - 지원 형식: PDF, JPG, PNG, DOC, DOCX, XLS, XLSX
  - 최대 파일 크기: 10MB
- **다운로드**: 개별 다운로드, 다중 선택 일괄 다운로드
- **삭제**: 본인이 업로드한 문서만 삭제 가능
- **미리보기**: PDF, 이미지 파일 미리보기 지원

#### 용량 제한
- 개인별 총 용량: 1GB
- 잔여 용량 표시
- 용량 초과 시 알림

## 공유문서함 메뉴 상세 기능

### A6, B6, C6, D 공유문서함 (모든 사용자)

#### 문서 카테고리별 접근 권한

##### 안전보건 문서
- **접근**: 모든 사용자 조회 가능
- **내용**: 안전교육 자료, MSDS, 안전 수칙, 비상대응 매뉴얼
- **업로드**: 본사 관리자만 가능

##### 시공 표준/매뉴얼
- **접근**: 작업자, 현장 관리자, 파트너사 조회 가능
- **내용**: 표준 시방서, 작업 매뉴얼, 품질 기준서
- **업로드**: 본사 관리자, 현장 관리자만 가능

##### 회사 규정/공지
- **접근**: 모든 사용자 조회 가능
- **내용**: 취업규칙, 복무규정, 공지사항
- **업로드**: 본사 관리자만 가능

##### 교육 자료
- **접근**: 모든 사용자 조회 가능
- **내용**: 기술교육, 안전교육, 품질교육 자료
- **업로드**: 본사 관리자, 교육 담당자만 가능

##### 도면/설계 문서
- **접근**: 해당 현장 관련자만 조회 가능
- **내용**: 건축도면, 구조도면, 설비도면, 시공상세도
- **업로드**: 본사 관리자, 현장 관리자만 가능

#### 문서 관리 기능
- **검색**: 통합 검색, 카테고리별 검색
- **필터**: 문서 종류, 업로드 날짜, 현장별
- **다운로드**: 권한에 따른 다운로드 허용
- **즐겨찾기**: 자주 사용하는 문서 즐겨찾기 등록

#### 버전 관리
- 문서 버전 이력 관리
- 최신 버전 자동 표시
- 이전 버전 조회 가능 (권한자만)

#### 알림 기능
- 새 문서 업로드 시 관련자 알림
- 중요 공지사항 푸시 알림
- 문서 업데이트 알림

## 하단 네비게이션 바 (NavBar)

### 개요
- **위치**: 화면 하단 고정
- **표시**: 항상 visible 상태 유지
- **목적**: 주요 메뉴 빠른 접근

### 메뉴 구성

| 순서 | 메뉴명 | 아이콘 | 동작 |
|------|--------|--------|------|
| 1 | 홈(빠른메뉴) | Home | 홈 메뉴로 이동 |
| 2 | 출력현황 | Calendar | 출력현황 메뉴로 이동 |
| 3 | 작업일지 | FileText | 작업일지 메뉴로 이동 |
| 4 | 공도면 | FileImage | 공유문서함 → 해당 현장 '공도면' badge 검색 결과 |
| 5 | 내문서함 | FolderOpen | 내문서함 메뉴로 이동 |

### 디자인 가이드라인

#### 레이아웃
- **배치**: 5개 메뉴 균등 배치
- **높이**: 56px (iOS), 48px (Android)
- **배경**: 흰색 또는 앱 테마 색상
- **그림자**: 상단 그림자 효과로 구분

#### 아이콘 및 레이블
- **아이콘 크기**: 24x24px
- **레이블**: 아이콘 하단에 10px 폰트
- **색상**: 
  - 비활성: #666666
  - 활성: Primary Color
  - 배경: 활성 시 연한 Primary Color

#### 인터랙션
- **탭 피드백**: 리플 효과 또는 배경색 변화
- **활성 표시**: 현재 메뉴 하이라이트
- **트랜지션**: 부드러운 전환 애니메이션

### 특수 동작

#### 공도면 메뉴
- **동작 순서**:
  1. 공유문서함으로 이동
  2. 현재 사용자의 현장 정보 확인
  3. 해당 현장 + '공도면' badge 자동 필터링
  4. 검색 결과 표시
- **결과 없을 때**: "해당 현장의 공도면이 없습니다" 안내

### 접근성
- **최소 터치 영역**: 44x44px
- **음성 안내**: 각 메뉴 레이블 읽기
- **키보드 네비게이션**: Tab 키로 이동 가능

### 반응형 대응

#### 세로 모드
- 5개 메뉴 균등 배치
- 아이콘 + 레이블 표시

#### 가로 모드
- 5개 메뉴 균등 배치 유지
- 여백 자동 조절

#### 태블릿
- 메뉴 간 여백 증가
- 아이콘 및 폰트 크기 증가 가능

### 구현 시 고려사항
- **Safe Area**: iPhone X 이상 홈 인디케이터 영역 고려
- **Android**: 시스템 네비게이션과 구분
- **스크롤**: 콘텐츠 스크롤 시에도 고정 위치 유지
- **키보드**: 키보드 표시 시 NavBar 숨김 처리 가능

## 도면 마킹 도구 메뉴 상세 기능

### 기능 개요
**도면 마킹 도구 (Blueprint Markup Tool)**는 건설 현장의 공도면에 작업 진행 상황을 시각적으로 표시하고, 마킹된 도면을 저장/공유하여 현장 작업 진행률을 효율적으로 관리하는 도구입니다.

### 사용자별 접근 권한
- **작업자**: 자신의 작업 진행 상황을 도면에 마킹
- **현장관리자**: 전체 현장 진행률을 도면에 표시 및 관리
- **파트너사**: 의뢰한 작업의 진행 상황을 시각적으로 확인
- **관리자**: 모든 마킹된 도면을 조회 및 관리

### 핵심 마킹 도구

#### 박스 마킹 도구
| 도구 | 색상 | 의미 | 기능 |
|------|------|------|------|
| 자재구간 | 회색 (#9CA3AF) | 자재 대기/준비 구간 | 드래그로 사각형 영역 선택 |
| 작업진행 | 빨간색 (#EF4444) | 현재 진행 중인 작업 | 드래그로 사각형 영역 선택 |
| 작업완료 | 파란색 (#3B82F6) | 완료된 작업 구간 | 드래그로 사각형 영역 선택 |

#### 기타 도구
- **텍스트 도구**: 도면에 텍스트 주석 추가
- **펜 그리기**: 자유곡선 그리기 (빨간색, 2px)
- **되돌리기/다시실행**: 최대 20단계 실행 취소
- **삭제**: 선택된 객체 삭제
- **확대/축소**: 25% ~ 500% 범위

### UI 레이아웃

#### 데스크톱 버전
- **상단 툴바**: 홈, 열기, 저장, 공유, 닫기
- **좌측 도구 패널**: 마킹 도구들 세로 배치
- **메인 도면 영역**: 확대/축소 가능한 도면 표시
- **하단 상태바**: 파일명, 마킹 개수, 줌 비율

#### 모바일 버전
- **상단 헤더**: 뒤로가기, 파일명, 저장
- **메인 도면 영역**: 터치 확대/축소 지원
- **하단 도구바**: 주요 도구들 가로 배치

### 저장 및 공유

#### 저장 위치
- **내문서함**: 개인 작업 마킹 저장
- **공유문서함**: 팀 공유용 마킹 저장 (현장관리자 이상)

#### 파일 형식
- **지원 형식**: .dwg, .dxf, .jpg, .png, .pdf
- **최대 크기**: 50MB
- **저장 형식**: JSON 형태의 마킹 데이터

### 권한 관리

| 기능 | 작업자 | 현장관리자 | 파트너사 | 관리자 |
|------|--------|------------|----------|--------|
| 공도면 조회 | ✅ | ✅ | ✅ | ✅ |
| 마킹 편집 | ✅ | ✅ | ✅ | ✅ |
| 내문서함 저장 | ✅ | ✅ | ✅ | ✅ |
| 공유문서함 저장 | ❌ | ✅ | ✅ | ✅ |
| 다른 사용자 마킹 수정 | ❌ | ✅ | ❌ | ✅ |
| 마킹 파일 삭제 | 본인것만 | ✅ | 본인것만 | ✅ |

### 작업일지 연동
- 작업일지 작성 시 마킹 도면 첨부 가능
- 시각적 진행률과 텍스트 보고서 연계
- 일일 진행률 시각화 및 히스토리 관리

### 실시간 협업
- 여러 사용자가 동시에 동일 도면 작업 가능 (Phase 4 목표)
- 변경 사항 실시간 동기화
- 충돌 방지 및 버전 관리