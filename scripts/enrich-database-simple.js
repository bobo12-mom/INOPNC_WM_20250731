const { createClient } = require('@supabase/supabase-js');

// Supabase ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÑ§Ï†ï
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://yjtnpscnnsnvfsyvajku.supabase.co';
const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlqdG5wc2NubnNudmZzeXZhamt1Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MzgzNzU2NCwiZXhwIjoyMDY5NDEzNTY0fQ.nZ3kiVrU4qAnWQG5vso-qL_FKOkYKlbbZF1a04ew0GE';

const supabase = createClient(supabaseUrl, supabaseServiceKey);

// ÏûëÏóÖ ÎÇ¥Ïö© ÏÉÅÏÑ∏ ÌÖúÌîåÎ¶ø
const WORK_DETAILS = [
  {
    title: '1Ï∏µ ÏΩòÌÅ¨Î¶¨Ìä∏ ÌÉÄÏÑ§ ÏûëÏóÖ',
    description: `Ïò§Îäò 1Ï∏µ Î∞îÎã• ÏΩòÌÅ¨Î¶¨Ìä∏ ÌÉÄÏÑ§ ÏûëÏóÖÏùÑ ÏôÑÎ£åÌñàÏäµÎãàÎã§.
    - ÌÉÄÏÑ§ Î©¥Ï†Å: 250„é°
    - ÏΩòÌÅ¨Î¶¨Ìä∏ Í∞ïÎèÑ: 24MPa
    - Ìà¨ÏûÖ Ïù∏Ïõê: ÏûëÏóÖÏûê 8Î™Ö, Í¥ÄÎ¶¨Ïûê 2Î™Ö
    - ÏÇ¨Ïö© Ïû•ÎπÑ: ÌéåÌîÑÏπ¥ 1ÎåÄ, ÏßÑÎèôÍ∏∞ 4ÎåÄ
    - ÏûëÏóÖ ÏãúÍ∞Ñ: 08:00 ~ 17:00
    - ÌíàÏßà ÌôïÏù∏: Ïä¨ÎüºÌîÑ ÌÖåÏä§Ìä∏ ÏôÑÎ£å (12cm)`,
    special_notes: 'ÎÇ†Ïî®Í∞Ä Ï∂îÏõå ÏñëÏÉùÏóê ÌäπÎ≥ÑÌûà Ï£ºÏùòÍ∞Ä ÌïÑÏöîÌï®. Î≥¥Ïò® ÎçÆÍ∞ú ÏÑ§Ïπò ÏôÑÎ£å. ÎÇ¥Ïùº Ïò§Ï†Ñ ÏñëÏÉù ÏÉÅÌÉú Ïû¨Ï†êÍ≤Ä ÏòàÏ†ï.'
  },
  {
    title: 'ÏßÄÌïò 1Ï∏µ Ï≤†Í∑º Î∞∞Í∑º ÏûëÏóÖ',
    description: `ÏßÄÌïò 1Ï∏µ Î≤ΩÏ≤¥ Ï≤†Í∑º Î∞∞Í∑º ÏûëÏóÖ ÏßÑÌñâÏ§ëÏûÖÎãàÎã§.
    - ÏûëÏóÖ Íµ¨Í∞Ñ: B1 Ï£ºÏ∞®Ïû• Íµ¨Ïó≠ A~C
    - Ï≤†Í∑º Í∑úÍ≤©: HD13, HD16, HD22
    - ÏßÑÌñâÎ•†: Ï†ÑÏ≤¥ 75% ÏôÑÎ£å
    - Ìà¨ÏûÖ Ïù∏Ïõê: Ï≤†Í∑ºÍ≥µ 12Î™Ö, Î≥¥Ï°∞ 4Î™Ö
    - Í≤ÄÏ∏° Í≤∞Í≥º: ÌîºÎ≥µ ÎëêÍªò Î∞è Í∞ÑÍ≤© Ï†ÅÏ†ï
    - ÌíàÏßà ÌôïÏù∏: Íµ¨Ï°∞Í∞êÎ¶¨ Í≤ÄÏ∏° ÌÜµÍ≥º`,
    special_notes: 'Íµ¨Ï°∞ Î≥ÄÍ≤ΩÏúºÎ°ú Ïù∏Ìïú Ï∂îÍ∞Ä Ï≤†Í∑º ÌïÑÏöî. ÎÇ¥Ïùº Ïò§Ï†Ñ ÏûÖÍ≥† ÏòàÏ†ï. Ïö∞Ï≤úÏãú ÎÖπ Î∞©ÏßÄ Ï°∞Ïπò ÏôÑÎ£å.'
  },
  {
    title: 'Ïô∏Î≤Ω Îã®Ïó¥Ïû¨ ÏãúÍ≥µ',
    description: `ÎèôÏ∏° Ïô∏Î≤Ω Îã®Ïó¥Ïû¨ ÏãúÍ≥µ ÏûëÏóÖÏùÑ ÏßÑÌñâÌñàÏäµÎãàÎã§.
    - ÏãúÍ≥µ Î©¥Ï†Å: 180„é°
    - Îã®Ïó¥Ïû¨ Ï¢ÖÎ•ò: ÎπÑÎìúÎ≤ï 2Ï¢Ö 1Ìò∏ 100T
    - ÏûëÏóÖ Íµ¨Í∞Ñ: 2Ï∏µ ~ 4Ï∏µ ÎèôÏ∏°Î©¥
    - Ìà¨ÏûÖ Ïù∏Ïõê: ÏûëÏóÖÏûê 6Î™Ö
    - ÏôÑÎ£åÏú®: 60%
    - Ï†ëÏ∞© Í∞ïÎèÑ ÌÖåÏä§Ìä∏: Ìï©Í≤©`,
    special_notes: 'Í∞ïÌíç ÏòàÎ≥¥Î°ú Ïù∏Ìï¥ Ïò§ÌõÑ ÏûëÏóÖ Ï§ëÎã®. ÎÇ¥Ïùº Ïû¨Í∞ú ÏòàÏ†ï. ÏûêÏû¨ Î≥¥Í¥Ä Ï∞ΩÍ≥†Ïóê ÏûÑÏãú Î≥¥Í¥Ä ÏôÑÎ£å.'
  },
  {
    title: 'Ï†ÑÍ∏∞ Î∞∞Í¥Ä Î∞è Î∞∞ÏÑ† ÏûëÏóÖ',
    description: `3Ï∏µ ÏÇ¨Î¨¥Ïã§ Íµ¨Ïó≠ Ï†ÑÍ∏∞ Î∞∞Í¥Ä Î∞è Î∞∞ÏÑ† ÏûëÏóÖÏùÑ ÏàòÌñâÌñàÏäµÎãàÎã§.
    - ÏûëÏóÖ Íµ¨Ïó≠: 3Ï∏µ 301Ìò∏ ~ 308Ìò∏
    - Î∞∞Í¥Ä: PVC 16mm, 22mm, 28mm
    - Î∞∞ÏÑ†: IV 2.5sq, 4sq, 6sq
    - Ìà¨ÏûÖ Ïù∏Ïõê: Ï†ÑÍ∏∞Í≥µ 8Î™Ö
    - ÏßÑÌñâ ÏÉÅÌô©: Î∞∞Í¥Ä 100%, Î∞∞ÏÑ† 70% ÏôÑÎ£å
    - Ï†àÏó∞ Ï†ÄÌï≠ Ï∏°Ï†ï: 100MŒ© Ïù¥ÏÉÅ (Ìï©Í≤©)`,
    special_notes: 'Ïä§ÏúÑÏπò Î∞è ÏΩòÏÑºÌä∏ ÏúÑÏπò Î≥ÄÍ≤Ω ÏöîÏ≤≠ Î∞òÏòÅ ÏôÑÎ£å. Ï†ÑÍ∏∞ Í∞êÎ¶¨ Ï§ëÍ∞Ñ Í≤ÄÏÇ¨ ÏòàÏ†ï.'
  },
  {
    title: 'Ïò•ÏÉÅ Î∞©Ïàò ÏûëÏóÖ',
    description: `Ïò•ÏÉÅÏ∏µ Ïö∞Î†àÌÉÑ Î∞©Ïàò ÏûëÏóÖÏùÑ Ïã§ÏãúÌñàÏäµÎãàÎã§.
    - ÏûëÏóÖ Î©¥Ï†Å: 450„é°
    - Î∞©Ïàò Ï¢ÖÎ•ò: Ïö∞Î†àÌÉÑ ÎèÑÎßâ Î∞©Ïàò 3mm
    - ÏûëÏóÖ ÏàúÏÑú: Î∞îÌÉï Ï≤òÎ¶¨ ‚Üí ÌîÑÎùºÏù¥Î®∏ ‚Üí Ï§ëÎèÑ ‚Üí ÏÉÅÎèÑ
    - Ìà¨ÏûÖ Ïù∏Ïõê: Î∞©ÏàòÍ≥µ 5Î™Ö
    - ÎÇ†Ïî®: ÎßëÏùå, Ïò®ÎèÑ 18¬∞C, ÏäµÎèÑ 45%
    - ÎèÑÎßâ ÎëêÍªò Ï∏°Ï†ï: ÌèâÍ∑† 3.2mm`,
    special_notes: 'Ïö∞Ï≤ú ÎåÄÎπÑ ÏñëÏÉù ÏãúÌä∏ Ï§ÄÎπÑ. 48ÏãúÍ∞Ñ ÏñëÏÉù ÌïÑÏöî. Î∞©Ïàò Î≥¥Ï¶ùÏÑú Î∞úÍ∏â ÏòàÏ†ï.'
  },
  {
    title: 'ÌÉÄÏõåÌÅ¨Î†àÏù∏ ÏÑ§Ïπò ÏûëÏóÖ',
    description: `ÌÉÄÏõåÌÅ¨Î†àÏù∏ ÏÑ§Ïπò Î∞è ÏãúÏö¥Ï†ÑÏùÑ ÏôÑÎ£åÌñàÏäµÎãàÎã§.
    - ÌÅ¨Î†àÏù∏ Î™®Îç∏: STT-293 (12ÌÜ§)
    - ÏÑ§Ïπò ÎÜíÏù¥: 45m
    - ÏûëÏóÖ Î∞òÍ≤Ω: 60m
    - Ìà¨ÏûÖ Ïù∏Ïõê: Ï†ÑÎ¨∏ ÏÑ§ÏπòÌåÄ 8Î™Ö
    - ÏïàÏ†Ñ Í≤ÄÏÇ¨: ÌïúÍµ≠ÏÇ∞ÏóÖÏïàÏ†ÑÍ≥µÎã® Í≤ÄÏÇ¨ Ìï©Í≤©
    - ÏãúÏö¥Ï†Ñ: Ï†ïÏÉÅ ÏûëÎèô ÌôïÏù∏`,
    special_notes: 'Ï£ºÎ≥Ä Í±¥Î¨º ÏïàÏ†Ñ Ï°∞Ïπò ÏôÑÎ£å. ÏïºÍ∞Ñ Í≤ΩÍ¥ëÎì± ÏÑ§Ïπò. Ïö¥Ï†ÑÏõê ÍµêÏú° Ïã§Ïãú ÏôÑÎ£å.'
  },
  {
    title: 'ÏßÄÌïò Íµ¥Ï∞© ÏûëÏóÖ',
    description: `ÏßÄÌïò 2Ï∏µ Íµ¥Ï∞© ÏûëÏóÖÏùÑ ÏßÑÌñâÌñàÏäµÎãàÎã§.
    - Íµ¥Ï∞© ÍπäÏù¥: GL -8.5m
    - Íµ¥Ï∞© Î©¥Ï†Å: 1,200„é°
    - Íµ¥Ï∞©Îüâ: ÏïΩ 850„é•
    - Ìà¨ÏûÖ Ïû•ÎπÑ: Íµ¥ÏÇ≠Í∏∞ 3ÎåÄ, Îç§ÌîÑÌä∏Îü≠ 8ÎåÄ
    - ÌùôÎßâÏù¥ ÏÉÅÌÉú: Î≥ÄÏúÑ Ï∏°Ï†ï Í≤∞Í≥º ÏïàÏ†ï
    - ÏßÄÌïòÏàòÏúÑ: GL -12m (ÏñëÌò∏)`,
    special_notes: 'Ïù∏Í∑º Í±¥Î¨º Í∑†Ïó¥ Î™®ÎãàÌÑ∞ÎßÅ Ï§ë. ÏßÑÎèô Î∞è ÏÜåÏùå Ï∏°Ï†ï Í∏∞Ï§ÄÏπò Ïù¥ÎÇ¥. ÌÜ†ÏÇ¨ Î∞òÏ∂ú ÏôÑÎ£å.'
  },
  {
    title: 'Ïª§ÌäºÏõî ÏÑ§Ïπò ÏûëÏóÖ',
    description: `ÎÇ®Ï∏° Ïª§ÌäºÏõî Ïú†Îãõ ÏÑ§Ïπò ÏûëÏóÖÏùÑ ÏàòÌñâÌñàÏäµÎãàÎã§.
    - ÏÑ§Ïπò Íµ¨Í∞Ñ: 5Ï∏µ ~ 8Ï∏µ ÎÇ®Ï∏°Î©¥
    - Ïú†Îãõ ÏàòÎüâ: 24Í∞ú (Ïú†ÎãõÎãπ 3m x 4m)
    - Ìà¨ÏûÖ Ïù∏Ïõê: Ïª§ÌäºÏõî Ï†ÑÎ¨∏ÌåÄ 10Î™Ö
    - ÏßÑÌñâÎ•†: 40% ÏôÑÎ£å
    - ÏàòÏßÅ/ÏàòÌèâ Ï†ïÎ∞ÄÎèÑ: ¬±3mm Ïù¥ÎÇ¥
    - Í∏∞Î∞ÄÏÑ± ÌÖåÏä§Ìä∏: ÏòàÏ†ï`,
    special_notes: 'Í≥†ÏÜåÏûëÏóÖ ÏïàÏ†Ñ Ï°∞Ïπò ÏôÑÎ£å. Í∞ïÌíçÏãú ÏûëÏóÖ Ï§ëÎã® Í∏∞Ï§Ä ÏÑ§Ï†ï. Ïú†Î¶¨ ÌååÏÜê Î∞©ÏßÄ Î≥¥Ìò∏ÌïÑÎ¶Ñ Î∂ÄÏ∞©.'
  }
];

// ÎûúÎç§ ÏÑ†ÌÉù Ìï®Ïàò
function getRandomItem(array) {
  return array[Math.floor(Math.random() * array.length)];
}

async function enrichDatabaseContent() {
  try {
    console.log('üöÄ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏΩòÌÖêÏ∏† Î≥¥Í∞ï ÏãúÏûë...\n');

    // 1. Í∏∞Ï°¥ daily_reports Ï°∞Ìöå
    const { data: reports, error: reportsError } = await supabase
      .from('daily_reports')
      .select('*')
      .order('work_date', { ascending: false })
      .limit(30);

    if (reportsError) {
      console.error('ÏûëÏóÖÏùºÏßÄ Ï°∞Ìöå Ïã§Ìå®:', reportsError);
      return;
    }

    console.log(`üìã Í∏∞Ï°¥ ÏûëÏóÖÏùºÏßÄ ${reports.length}Í∞ú Î∞úÍ≤¨\n`);

    // 2. Í∞Å ÏûëÏóÖÏùºÏßÄÏóê ÏÉÅÏÑ∏ ÎÇ¥Ïö© Ï∂îÍ∞Ä
    let successCount = 0;
    for (const report of reports) {
      const workDetail = getRandomItem(WORK_DETAILS);
      
      // ÏûëÏóÖÏùºÏßÄ ÏóÖÎç∞Ïù¥Ìä∏ (Ï°¥Ïû¨ÌïòÎäî ÌïÑÎìúÎßå)
      const updateData = {
        work_content: workDetail.description,
        special_notes: workDetail.special_notes
      };

      const { error: updateError } = await supabase
        .from('daily_reports')
        .update(updateData)
        .eq('id', report.id);

      if (updateError) {
        console.error(`ÏûëÏóÖÏùºÏßÄ ${report.id} ÏóÖÎç∞Ïù¥Ìä∏ Ïã§Ìå®:`, updateError.message);
      } else {
        successCount++;
        console.log(`‚úÖ ÏûëÏóÖÏùºÏßÄ ÏóÖÎç∞Ïù¥Ìä∏ (${successCount}/${reports.length}): ${workDetail.title}`);
      }
    }

    // 3. Î¨∏ÏÑú Îç∞Ïù¥ÌÑ∞ Ï∂îÍ∞Ä (ÎèÑÎ©¥, PTW, ÏòÅÏàòÏ¶ù Îì±)
    console.log('\nüìÅ Î¨∏ÏÑú Îç∞Ïù¥ÌÑ∞ Ï∂îÍ∞Ä Ï§ë...\n');

    // ÏÉòÌîå ÌòÑÏû• ID Ï°∞Ìöå
    const { data: sites } = await supabase
      .from('sites')
      .select('id, name')
      .limit(3);

    if (sites && sites.length > 0) {
      let docCount = 0;
      
      for (const site of sites) {
        // ÎèÑÎ©¥ Î¨∏ÏÑú Ï∂îÍ∞Ä
        for (let i = 0; i < 3; i++) {
          const blueprintData = {
            title: `${site.name} ${i + 1}Ï∏µ ÎèÑÎ©¥`,
            file_type: 'document',
            file_url: `https://example.com/blueprints/${site.id}_floor_${i + 1}.pdf`,
            file_size: Math.floor(Math.random() * 5000000) + 1000000,
            mime_type: 'application/pdf',
            category: 'ÎèÑÎ©¥',
            site_id: site.id,
            is_public: true,
            description: `${site.name} ${i + 1}Ï∏µ Í±¥Ï∂ï ÎèÑÎ©¥ÏûÖÎãàÎã§. Íµ¨Ï°∞, Ï†ÑÍ∏∞, ÏÑ§ÎπÑ ÌÜµÌï© ÎèÑÎ©¥.`,
            tags: ['ÎèÑÎ©¥', 'Í±¥Ï∂ï', `${i + 1}Ï∏µ`]
          };

          const { error: docError } = await supabase
            .from('documents')
            .insert(blueprintData);

          if (!docError) {
            docCount++;
            console.log(`‚úÖ ÎèÑÎ©¥ Ï∂îÍ∞Ä (${docCount}): ${site.name} ${i + 1}Ï∏µ`);
          }
        }

        // PTW Î¨∏ÏÑú Ï∂îÍ∞Ä
        for (let i = 0; i < 2; i++) {
          const ptwNumber = `PTW-2025-${String(Math.floor(Math.random() * 900) + 100).padStart(3, '0')}`;
          const ptwData = {
            title: `ÏûëÏóÖÌóàÍ∞ÄÏÑú ${ptwNumber}`,
            file_type: 'document',
            file_url: `https://example.com/ptw/${ptwNumber}.pdf`,
            file_size: Math.floor(Math.random() * 1000000) + 500000,
            mime_type: 'application/pdf',
            category: 'PTW',
            site_id: site.id,
            is_public: false,
            description: 'Í≥†ÏúÑÌóò ÏûëÏóÖ ÌóàÍ∞ÄÏÑú - ÌÅ¨Î†àÏù∏ ÏûëÏóÖ, Ïö©Ï†ë ÏûëÏóÖ, Í≥†ÏÜåÏûëÏóÖ Ìè¨Ìï®',
            tags: ['PTW', 'ÏïàÏ†Ñ', 'ÏûëÏóÖÌóàÍ∞ÄÏÑú']
          };

          const { error: docError } = await supabase
            .from('documents')
            .insert(ptwData);

          if (!docError) {
            docCount++;
            console.log(`‚úÖ PTW Ï∂îÍ∞Ä (${docCount}): ${ptwNumber}`);
          }
        }

        // ÏûëÏóÖ ÏÇ¨ÏßÑ Î¨∏ÏÑú Ï∂îÍ∞Ä
        for (let i = 0; i < 5; i++) {
          const photoTypes = ['ÏûëÏóÖÏ†Ñ', 'ÏûëÏóÖÏ§ë', 'ÏûëÏóÖÌõÑ', 'ÏïàÏ†ÑÏ†êÍ≤Ä', 'ÌíàÏßàÌôïÏù∏'];
          const photoType = photoTypes[i];
          
          const photoData = {
            title: `${site.name} ${photoType} ÏÇ¨ÏßÑ`,
            file_type: 'image',
            file_url: `https://example.com/photos/${site.id}_${photoType}_${Date.now()}.jpg`,
            file_size: Math.floor(Math.random() * 3000000) + 500000,
            mime_type: 'image/jpeg',
            category: 'ÌòÑÏû•ÏÇ¨ÏßÑ',
            site_id: site.id,
            is_public: true,
            description: `${new Date().toLocaleDateString('ko-KR')} ${photoType} ÌòÑÏû• ÏÇ¨ÏßÑ`,
            tags: ['ÏÇ¨ÏßÑ', photoType, 'ÌòÑÏû•Í∏∞Î°ù']
          };

          const { error: docError } = await supabase
            .from('documents')
            .insert(photoData);

          if (!docError) {
            docCount++;
            console.log(`‚úÖ ÏÇ¨ÏßÑ Ï∂îÍ∞Ä (${docCount}): ${photoType}`);
          }
        }

        // ÏòÅÏàòÏ¶ù Î¨∏ÏÑú Ï∂îÍ∞Ä
        for (let i = 0; i < 4; i++) {
          const receiptTypes = [
            { type: 'ÏûêÏû¨Íµ¨Îß§', vendor: '(Ï£º)Í±¥ÏÑ§ÏûêÏû¨' },
            { type: 'Ïû•ÎπÑÏûÑÎåÄ', vendor: 'ÎåÄÌïúÏ§ëÏû•ÎπÑ' },
            { type: 'Ïú†Î•òÎπÑ', vendor: 'SKÏóêÎÑàÏßÄ' },
            { type: 'ÏãùÎåÄ', vendor: 'ÌòÑÏû•ÏãùÎãπ' }
          ];
          const receipt = receiptTypes[i];
          
          const receiptData = {
            title: `${receipt.type} ÏòÅÏàòÏ¶ù - ${new Date().toLocaleDateString('ko-KR')}`,
            file_type: 'document',
            file_url: `https://example.com/receipts/receipt_${Date.now()}_${i}.pdf`,
            file_size: Math.floor(Math.random() * 500000) + 100000,
            mime_type: 'application/pdf',
            category: 'ÏòÅÏàòÏ¶ù',
            site_id: site.id,
            is_public: false,
            description: `${receipt.type} Í¥ÄÎ†® ÏòÅÏàòÏ¶ù - ${receipt.vendor}`,
            tags: ['ÏòÅÏàòÏ¶ù', receipt.type, 'Í≤ΩÎπÑ'],
            metadata: {
              amount: Math.floor(Math.random() * 5000000) + 100000,
              vendor: receipt.vendor,
              receipt_date: new Date().toISOString().split('T')[0],
              payment_method: ['ÌòÑÍ∏à', 'Ïπ¥Îìú', 'Í≥ÑÏ¢åÏù¥Ï≤¥'][Math.floor(Math.random() * 3)]
            }
          };

          const { error: docError } = await supabase
            .from('documents')
            .insert(receiptData);

          if (!docError) {
            docCount++;
            console.log(`‚úÖ ÏòÅÏàòÏ¶ù Ï∂îÍ∞Ä (${docCount}): ${receipt.type}`);
          }
        }
      }
      
      console.log(`\nüìÑ Ï¥ù ${docCount}Í∞úÏùò Î¨∏ÏÑúÍ∞Ä Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.`);
    }

    // 4. ÏïåÎ¶º Îç∞Ïù¥ÌÑ∞ Ï∂îÍ∞Ä
    console.log('\nüîî ÏïåÎ¶º Îç∞Ïù¥ÌÑ∞ Ï∂îÍ∞Ä Ï§ë...\n');
    
    const { data: profiles } = await supabase
      .from('profiles')
      .select('id, full_name')
      .limit(5);

    if (profiles && profiles.length > 0) {
      const notifications = [
        { title: 'ÏûëÏóÖÏùºÏßÄ ÏäπÏù∏ ÏöîÏ≤≠', message: 'Ïò§ÎäòÏûê ÏûëÏóÖÏùºÏßÄÎ•º Í≤ÄÌÜ†Ìï¥ Ï£ºÏÑ∏Ïöî.', type: 'info' },
        { title: 'PTW Í∞±Ïã† ÌïÑÏöî', message: 'PTW-2025-001 Î¨∏ÏÑúÍ∞Ä ÎÇ¥Ïùº ÎßåÎ£åÎê©ÎãàÎã§.', type: 'warning' },
        { title: 'ÏïàÏ†Ñ Ï†êÍ≤Ä ÏôÑÎ£å', message: 'ÏõîÍ∞Ñ ÏïàÏ†Ñ Ï†êÍ≤ÄÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.', type: 'success' },
        { title: 'ÏûêÏû¨ ÏûÖÍ≥† ÏòàÏ†ï', message: 'ÎÇ¥Ïùº Ïò§Ï†Ñ 9Ïãú Ï≤†Í∑º 10ÌÜ§Ïù¥ ÏûÖÍ≥† ÏòàÏ†ïÏûÖÎãàÎã§.', type: 'info' },
        { title: 'ÎÇ†Ïî® Ï£ºÏùòÎ≥¥', message: 'ÎÇ¥Ïùº Í∞ïÌíç Ï£ºÏùòÎ≥¥Í∞Ä Î∞úÎ†πÎêòÏóàÏäµÎãàÎã§. Í≥†ÏÜåÏûëÏóÖ Ï£ºÏùò Î∞îÎûçÎãàÎã§.', type: 'warning' }
      ];

      let notifCount = 0;
      for (const profile of profiles) {
        for (let i = 0; i < 2; i++) {
          const notif = getRandomItem(notifications);
          const { error } = await supabase
            .from('notifications')
            .insert({
              user_id: profile.id,
              title: notif.title,
              message: notif.message,
              type: notif.type,
              is_read: Math.random() > 0.5
            });

          if (!error) {
            notifCount++;
            console.log(`‚úÖ ÏïåÎ¶º Ï∂îÍ∞Ä (${notifCount}): ${profile.full_name} - ${notif.title}`);
          }
        }
      }
    }

    console.log('\n‚ú® Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏΩòÌÖêÏ∏† Î≥¥Í∞ï ÏôÑÎ£å!\n');
    console.log('üìä ÏµúÏ¢Ö ÏöîÏïΩ:');
    console.log(`- ÏûëÏóÖÏùºÏßÄ ÏÉÅÏÑ∏ ÎÇ¥Ïö© Ï∂îÍ∞Ä: ${successCount}Í∞ú`);
    console.log(`- Î¨∏ÏÑú Ï∂îÍ∞Ä: ${sites ? sites.length * 14 : 0}Í∞ú (ÎèÑÎ©¥, PTW, ÏÇ¨ÏßÑ, ÏòÅÏàòÏ¶ù)`);
    console.log(`- ÏïåÎ¶º Ï∂îÍ∞Ä: ${profiles ? profiles.length * 2 : 0}Í∞ú`);
    console.log('\nüéØ Playwright ÌÖåÏä§Ìä∏Î•º ÏúÑÌïú ÌíçÎ∂ÄÌïú Îç∞Ïù¥ÌÑ∞Í∞Ä Ï§ÄÎπÑÎêòÏóàÏäµÎãàÎã§!');
    console.log('üìå Ï∂îÍ∞ÄÎêú Îç∞Ïù¥ÌÑ∞ Ïπ¥ÌÖåÍ≥†Î¶¨:');
    console.log('  ‚Ä¢ ÏÉÅÏÑ∏Ìïú ÏûëÏóÖ ÎÇ¥Ïö© ÏÑ§Î™Ö');
    console.log('  ‚Ä¢ ÌäπÏù¥ÏÇ¨Ìï≠ Î∞è ÏïàÏ†Ñ Í¥ÄÎ†® Î©îÎ™®');
    console.log('  ‚Ä¢ ÎèÑÎ©¥ ÌååÏùº (Ï∏µÎ≥Ñ)');
    console.log('  ‚Ä¢ PTW ÏûëÏóÖÌóàÍ∞ÄÏÑú');
    console.log('  ‚Ä¢ ÌòÑÏû• ÏÇ¨ÏßÑ (ÏûëÏóÖÏ†Ñ/Ï§ë/ÌõÑ)');
    console.log('  ‚Ä¢ Í≤ΩÎπÑ ÏòÅÏàòÏ¶ù');
    console.log('  ‚Ä¢ ÏÇ¨Ïö©Ïûê ÏïåÎ¶º');

  } catch (error) {
    console.error('‚ùå Ïò§Î•ò Î∞úÏÉù:', error);
  }
}

// Ïä§ÌÅ¨Î¶ΩÌä∏ Ïã§Ìñâ
enrichDatabaseContent();